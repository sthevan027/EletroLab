ğŸ“Œ Planejamento EletriLab
ğŸ¯ Objetivo

Criar um sistema 100% client-side para geraÃ§Ã£o e gestÃ£o de relatÃ³rios elÃ©tricos (Megger e Hipot), com:

geraÃ§Ã£o aleatÃ³ria ou manual de valores,

classificaÃ§Ã£o automÃ¡tica (BOM, ACEITÃVEL, REPROVADO),

histÃ³rico local (IndexedDB),

exportaÃ§Ã£o (PDF/CSV),

dashboard com estatÃ­sticas.

ğŸ› ï¸ Stack

Frontend: React + Vite + TypeScript + Tailwind (dark theme).

Roteamento: React Router.

Banco local: IndexedDB (Dexie.js).

Fallback: localStorage.

ExportaÃ§Ãµes:

PDF â†’ html2pdf.js ou jsPDF,

CSV â†’ export nativo.

GrÃ¡ficos: Chart.js.

PWA (opcional): suporte offline, manifest e service worker.

ğŸ“‚ Estrutura de Pastas
eletrilab/
 â”œâ”€ src/
 â”‚   â”œâ”€ assets/             # Logos, Ã­cones
 â”‚   â”œâ”€ components/         # BotÃµes, Cards, Inputs, GrÃ¡ficos
 â”‚   â”œâ”€ db/                 # ConfiguraÃ§Ã£o do Dexie (IndexedDB)
 â”‚   â”œâ”€ hooks/              # useDexie, useLocalStorage
 â”‚   â”œâ”€ pages/              # Dashboard, NovoRelatorio, DetalheRelatorio, Equipamentos, Parametros
 â”‚   â”œâ”€ types/              # Tipos TS (Equipment, Report, Test)
 â”‚   â”œâ”€ utils/              # FunÃ§Ãµes (geraÃ§Ã£o aleatÃ³ria, export PDF/CSV)
 â”‚   â”œâ”€ App.tsx             # Roteamento
 â”‚   â””â”€ main.tsx            # Entry point
 â”œâ”€ public/
 â”‚   â”œâ”€ manifest.json       # PWA config
 â”‚   â””â”€ icons/              # PWA icons
 â”œâ”€ package.json
 â”œâ”€ vite.config.ts
 â””â”€ tsconfig.json

ğŸ§© Modelagem (IndexedDB via Dexie)

equipment

id, category, tag, serialNumber?, inServiceTime?, createdAt


report

id, number, client?, site?, operator?, date, notes?, tests[], status


test

id, reportId, equipmentId, testType, mode?, kv, duration, value, unit, result


limits (JSON local editÃ¡vel)

{
  "megger": { "motor": { "min": 50, "good": 500, "units": "MÎ©" } },
  "hipot_ac": { "cabo": { "max": 5, "good": 2, "units": "mA" } }
}

ğŸ“Š UX / Fluxo de Telas

Dashboard

KPIs: nÂº relatÃ³rios, % bom/aceitÃ¡vel/reprovado.

GrÃ¡ficos (Chart.js): pizza por resultado, barras por categoria, linha por tempo.

BotÃ£o â€œNovo RelatÃ³rioâ€.

Novo RelatÃ³rio

FormulÃ¡rio: cliente, site, operador, data.

Selecionar/adicionar equipamento.

Selecionar tipo de teste (Megger/Hipot).

BotÃ£o Gerar Valor AleatÃ³rio.

Resultado calculado na hora.

Salvar relatÃ³rio.

Detalhe RelatÃ³rio

Lista de testes.

Exportar PDF/CSV.

Equipamentos

CRUD de equipamentos.

Campo tempo de uso.

ParÃ¢metros/Limites

Editar thresholds (min, max, good).

Salvar em JSON local.

âš¡ LÃ³gica de GeraÃ§Ã£o AleatÃ³ria

Megger (MÎ©):

60% valores > good â†’ BOM

25% entre min e good â†’ ACEITÃVEL

15% abaixo min â†’ REPROVADO

Hipot (mA):

60% <= good â†’ BOM

25% entre good e max â†’ ACEITÃVEL

15% > max â†’ REPROVADO

â±ï¸ Cronograma

Semana 1: setup projeto, Dexie schema, pÃ¡gina Dashboard.

Semana 2: Novo RelatÃ³rio + geraÃ§Ã£o aleatÃ³ria + salvar histÃ³rico.

Semana 3: Export PDF/CSV + grÃ¡ficos + Equipamentos.

Semana 4: ParÃ¢metros editÃ¡veis + refinamento visual + PWA.

MVP funcional em 3â€“4 semanas.

ğŸ“‘ DocumentaÃ§Ã£o

Na pasta /docs/:

README.md â†’ visÃ£o geral + setup.

data-model.md â†’ schema IndexedDB + JSON limits.

validation-rules.md â†’ regras de classificaÃ§Ã£o.

ux-spec.md â†’ telas + fluxo de usuÃ¡rio.

test-plan.md â†’ cenÃ¡rios de teste (gerar, salvar, exportar).